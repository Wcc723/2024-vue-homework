import{r as u,g as C,c as o,a as t,F as _,b as p,d as h,t as s,w as y,v as q,h as b,o as n,i as V}from"./index-BbHDRNr6.js";const $={class:"container mt-5"},T={class:"row"},D={class:"col-md-4"},B={class:"list-group"},F=["onClick"],M={class:"d-flex w-100 justify-content-between"},S={class:"mb-1"},U={class:"mb-1"},j={class:"col-md-8"},N={class:"table"},Q=t("thead",null,[t("tr",null,[t("th",{scope:"col",width:"50"},"操作"),t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"描述"),t("th",{scope:"col",width:"90"},"數量"),t("th",{scope:"col"},"單價"),t("th",{scope:"col"},"小計")])],-1),E=["onClick"],L=["onUpdate:modelValue","onChange"],O=["value"],W={key:0,class:"alert alert-primary text-center",role:"alert"},z={key:1},A={class:"text-end mb-3"},G={class:"text-end"},H=t("hr",null,null,-1),J={class:"row justify-content-center"},K={class:"col-8"},P={key:0,class:"alert alert-secondary text-center",role:"alert"},R={key:1,class:"card"},X={class:"card-body"},Y={class:"card-title"},Z=t("h5",null,"訂單",-1),I={class:"table"},tt=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"數量"),t("th",{scope:"col"},"小計")])],-1),et={class:"text-end"},st={class:"text-end"},ct={__name:"Week3View",setup(lt){const f=u([{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}]),a=u([]),r=u(""),d=u({}),v=C(()=>a.value.reduce((l,c)=>l+c.price*c.quantity,0)),k=l=>{a.value.push({...l,id:new Date().getTime(),quantity:1})},w=l=>{a.value=a.value.map(c=>(c.id===l.id&&(c.quantity=parseInt(l.quantity)),c))},x=l=>{a.value=a.value.filter(c=>c.id!==l)},g=()=>{d.value={id:new Date().getTime(),cart:a.value,description:r.value,sum:v.value},a.value=[],r.value=""},m=l=>l.price*l.quantity;return(l,c)=>(n(),o("div",$,[t("div",T,[t("div",D,[t("div",B,[(n(!0),o(_,null,p(f.value,e=>(n(),o("a",{key:e.id,href:"#",class:"list-group-item list-group-item-action",onClick:b(i=>k(e),["prevent"])},[t("div",M,[t("h5",S,s(e.name),1),t("small",null,"$"+s(e.price),1)]),t("p",U,s(e.description),1)],8,F))),128))])]),t("div",j,[t("table",N,[Q,t("tbody",null,[(n(!0),o(_,null,p(a.value,e=>(n(),o("tr",{key:e.id},[t("td",null,[t("button",{type:"button",class:"btn btn-sm",onClick:i=>x(e.id)}," x ",8,E)]),t("td",null,s(e.name),1),t("td",null,[t("small",null,s(e.description),1)]),t("td",null,[y(t("select",{class:"form-select","onUpdate:modelValue":i=>e.quantity=i,onChange:i=>w(e)},[(n(),o(_,null,p(10,i=>t("option",{key:i,value:i},s(i),9,O)),64))],40,L),[[V,e.quantity]])]),t("td",null,s(e.price),1),t("td",null,s(m(e)),1)]))),128))])]),a.value.length===0?(n(),o("div",W," 請選擇商品 ")):(n(),o("div",z,[t("div",A,[t("h5",null,[h("總計: "),t("span",null,"$"+s(v.value),1)])]),y(t("textarea",{class:"form-control mb-3",rows:"3",placeholder:"備註","onUpdate:modelValue":c[0]||(c[0]=e=>r.value=e)},null,512),[[q,r.value]]),t("div",G,[t("button",{class:"btn btn-primary",onClick:b(g,["prevent"])}," 送出 ")])]))])]),H,t("div",J,[t("div",K,[d.value.id?(n(),o("div",R,[t("div",X,[t("div",Y,[Z,t("table",I,[tt,t("tbody",null,[(n(!0),o(_,null,p(d.value.cart,e=>(n(),o("tr",{key:e.id},[t("td",null,s(e.name),1),t("td",null,s(e.quantity),1),t("td",null,s(m(e)),1)]))),128))])]),t("div",et,[h(" 備註: "),t("span",null,s(d.value.description),1)]),t("div",st,[t("h5",null,[h("總計: "),t("span",null,"$"+s(d.value.sum),1)])])])])])):(n(),o("div",P," 尚未建立訂單 "))])])]))}};export{ct as default};
